{"version":3,"sources":["../../src/pages/calendar-write-modal/calendar-write-modal.module.ts","../../src/pages/calendar-write-modal/calendar-write-modal.ts"],"names":[],"mappings":"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","file":"3.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CalendarWriteModalPage } from './calendar-write-modal';\n\n@NgModule({\n  declarations: [\n    CalendarWriteModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CalendarWriteModalPage),\n  ],\n  exports: [\n    CalendarWriteModalPage\n  ]\n})\nexport class CalendarWriteModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar-write-modal/calendar-write-modal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport * as moment from 'moment';\nimport 'rxjs/add/operator/map';\n\n@IonicPage()\n@Component({\n  selector: 'page-calendar-write-modal',\n  templateUrl: 'calendar-write-modal.html',\n})\nexport class CalendarWriteModalPage {\n  event = { startTime: new Date().toISOString(), endTime: new Date().toISOString()}\n  minDate = new Date().toISOString();\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private viewCtrl: ViewController, private alertCtrl: AlertController, private http: Http) {\n    let preselectedDate = moment(this.navParams.get('selectedDay')).format();\n    this.event.startTime = preselectedDate;\n    this.event.endTime = preselectedDate;\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  save(event){   \n    console.log(event.title+\"======================================\");\n    if(event.cate1 == \"\" || event.cate1 == null){\n      let alert = this.alertCtrl.create({\n        title: '카테고리를 선택하세요',\n        buttons : ['확인']\n      });\n      alert.present();\n\n    } else if(event.cate2 == \"\" || event.cate2 == null){\n       let alert = this.alertCtrl.create({\n         title: '세부카테고리를 선택하세요',\n         buttons : ['확인']\n       });\n       alert.present();\n     \n    } else if(event.title == \"\" || event.title == null){\n       let alert = this.alertCtrl.create({\n          title: '일정제목을 입력하세요',\n         buttons : ['확인']\n       });\n        alert.present();\n     \n    } else if(event.content == \"\" || event.content == null){\n       let alert = this.alertCtrl.create({\n         title: '일정내용을 입력하세요',\n         buttons : ['확인']\n        });\n       alert.present();\n      \n    } else if(event.startTime > event.endTime){\n       let alert = this.alertCtrl.create({\n       title: '날짜를 다시 선택해주세요',\n       subTitle: '일정마감날짜가 일정시작날짜 이전입니다.',\n       buttons: [ '확인'\n        //  {\n        //    text: '확인',\n        //    role: 'cancel',\n        //    handler: () => {\n        //      this.viewCtrl.dismiss();\n        //    }\n        //   }\n        ]       \n      });\n      alert.present();\n\n    } else if (isNaN(event.completion)){\n        let alert = this.alertCtrl.create({\n         title: '숫자만 입력하세요',\n          buttons : ['확인']\n        });\n        alert.present();\n\n    }  else {\n      // var resultCode = \"\";\n      // var resultMsg = \"\";\n      var addr = \"http://localhost:8080/mobile/calendarWrite\";\n      let headers = new Headers({\"Content-Type\": \"application/x-www-form-urlencoded\"});\n      let options = new RequestOptions({headers: headers});\n      // let data = JSON.stringify(this.event);\n      // console.log(data);\n    \n      if(event.memo == undefined){   \n        event.memo = \"\";\n      }\n      let data = 'cate1=' + event.cate1\n                +'&cate2=' + event.cate2\n                +'&title=' + event.title\n                +'&content=' + event.content\n                +'&memo=' + event.memo\n                +'&completion=' + event.completion\n                +'&startTime=' + event.startTime \n                +'&endTime=' + event.endTime\n                +'&allDay=' + event.allDay;\n      console.log(event.startTime);\n      this.http.post(addr, data, options)\n      // .map(res=>res.json())\n      .subscribe((res)=>{\n                  let alert = this.alertCtrl.create({\n                      title: '일정이 등록되었습니다.',\n                      buttons: ['확인']\n                    });\n                  alert.present();\n                  this.viewCtrl.dismiss(this.event);\n                }, (err) => {\n                  console.log(err);\n                    let alert = this.alertCtrl.create({\n                      title: '일정이 등록되지 않습니다. 관리자에게 문의하세요',\n                      buttons: ['확인']\n                    });\n                  alert.present();\n                   \n                });\n      \n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar-write-modal/calendar-write-modal.ts"],"sourceRoot":""}