{"version":3,"sources":["../../src/pages/calendar-write-modal/calendar-write-modal.module.ts","../../src/pages/calendar-write-modal/calendar-write-modal.ts"],"names":[],"mappings":"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","file":"0.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CalendarWriteModalPage } from './calendar-write-modal';\n\n@NgModule({\n  declarations: [\n    CalendarWriteModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CalendarWriteModalPage),\n  ],\n  exports: [\n    CalendarWriteModalPage\n  ]\n})\nexport class CalendarWriteModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar-write-modal/calendar-write-modal.module.ts","import { Component, EventEmitter, Output } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport * as moment from 'moment';\nimport 'rxjs/add/operator/map';\nimport { CalendarPage } from '../calendar/calendar';\n\n@IonicPage()\n@Component({\n  selector: 'page-calendar-write-modal',\n  templateUrl: 'calendar-write-modal.html',\n})\nexport class CalendarWriteModalPage {\n  event = { startTime: new Date().toISOString(), endTime: new Date().toISOString() }\n  minDate = new Date().toISOString();\n  cate1 = [];\n  cate2 = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private viewCtrl: ViewController, private alertCtrl: AlertController, private http: Http) {\n    let preselectedDate = moment(this.navParams.get('selectedDay')).format();\n    let cate1 = this.navParams.get('temp1');\n    let cate2 = this.navParams.get('temp2');\n\n    this.cate1 = cate1;\n    this.cate2 = cate2;\n\n    this.event.startTime = preselectedDate;\n    this.event.endTime = preselectedDate;\n\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  save(event) {\n    if (event.cate1 == \"\" || event.cate1 == null) {\n      let alert = this.alertCtrl.create({\n        title: '카테고리를 선택하세요',\n        buttons: ['확인']\n      });\n      alert.present();\n\n    } else if (event.cate2 == \"\" || event.cate2 == null) {\n      let alert = this.alertCtrl.create({\n        title: '세부카테고리를 선택하세요',\n        buttons: ['확인']\n      });\n      alert.present();\n\n    } else if (event.title == \"\" || event.title == null) {\n      let alert = this.alertCtrl.create({\n        title: '일정제목을 입력하세요',\n        buttons: ['확인']\n      });\n      alert.present();\n\n    } else if (event.content == \"\" || event.content == null) {\n      let alert = this.alertCtrl.create({\n        title: '일정내용을 입력하세요',\n        buttons: ['확인']\n      });\n      alert.present();\n\n    } else if (event.startTime > event.endTime) {\n      let alert = this.alertCtrl.create({\n        title: '날짜를 다시 선택해주세요',\n        subTitle: '일정마감날짜가 일정시작날짜 이전입니다.',\n        buttons: ['확인']\n      });\n      alert.present();\n\n    } else if (event.completion == \"\" || event.completion == null) {\n      let alert = this.alertCtrl.create({\n        title: '진행률을 입력하세요',\n        buttons: ['확인']\n      });\n      alert.present();\n\n    } else if (isNaN(event.completion)) {\n      let alert = this.alertCtrl.create({\n        title: '숫자만 입력하세요',\n        buttons: ['확인']\n      });\n      alert.present();\n\n    } else if (event.completion > 100) {\n      let alert = this.alertCtrl.create({\n        title: '100이하의 숫자만 입력하세요',\n        buttons: ['확인']\n      });\n      alert.present();\n\n\n    } else {\n      var addr = \"http://localhost:8080/mobile/scheduleWrite\";\n      let headers = new Headers({ \"Content-Type\": \"application/x-www-form-urlencoded\" });\n      let options = new RequestOptions({ headers: headers });\n\n      if (event.memo == undefined) {\n        event.memo = \"\";\n      }\n      let data = 'cate1=' + event.cate1\n        + '&cate2=' + event.cate2\n        + '&title=' + event.title\n        + '&content=' + event.content\n        + '&memo=' + event.memo\n        + '&startTime=' + event.startTime\n        + '&endTime=' + event.endTime\n        + '&completion=' + event.completion\n        + '&allDay=' + event.allDay\n        + '&writerId=' + localStorage.getItem(\"userId\")  \n        + '&userNm=' + localStorage.getItem(\"userNm\");\n        console.log(event.startTime+\"확인해보자 스타트타임\");\n      this.http.post(addr, data, options)\n        .map(res => res.json())\n        .subscribe((res) => {\n          let alert = this.alertCtrl.create({\n            title: '일정이 등록되었습니다.',\n            buttons: ['확인']\n          });\n          alert.present();\n\n          event.calendarNo = res.schNo;\n          \n          console.log(data);\n          console.log(\"======================================================\");\n          console.log(this.event);\n          this.viewCtrl.dismiss(this.event);\n          \n        }, (err) => {\n          console.log(err);\n          let alert = this.alertCtrl.create({\n            title: '일정이 등록되지 않습니다. 관리자에게 문의하세요',\n            buttons: ['확인']\n          });\n          alert.present();\n\n        });\n\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar-write-modal/calendar-write-modal.ts"],"sourceRoot":""}