{"version":3,"sources":["../../src/pages/calendar-modify-modal/calendar-modify-modal.module.ts","../../src/pages/calendar-modify-modal/calendar-modify-modal.ts"],"names":[],"mappings":"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","file":"3.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CalendarModifyModalPage } from './calendar-modify-modal';\n\n@NgModule({\n  declarations: [\n    CalendarModifyModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CalendarModifyModalPage),\n  ],\n  exports: [\n    CalendarModifyModalPage\n  ]\n})\nexport class CalendarModifyModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar-modify-modal/calendar-modify-modal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController} from 'ionic-angular';\nimport * as moment from 'moment';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n\n/**\n * Generated class for the CalendarModifyModalPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-calendar-modify-modal',\n  templateUrl: 'calendar-modify-modal.html',\n})\nexport class CalendarModifyModalPage {\n  event = {calendarNo: String(), startTime: String(), endTime: String(), cate1 : String(), cate2 : String(), title : String(), content : String(), memo : String(), completion : Number(), writerId : String(), allDay : Boolean}\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private viewCtrl: ViewController, private alertCtrl: AlertController,  private http: Http) {\n    let preselectedNo = this.navParams.get('calendarNo');\n    let preselectedStartDate = moment(this.navParams.get('startTime')).format();\n    let preselectedEndDate = moment(this.navParams.get('endTime')).format();\n    let preselectedCate1 = this.navParams.get('cate1');\n    let preselectedCate2 = this.navParams.get('cate2');\n    let preselectedTitle = this.navParams.get('title');\n    let preselectedContent = this.navParams.get('content');\n    let preselectedMemo = this.navParams.get('memo');\n    let preselectedCompletion = this.navParams.get('completion');\n    let preselectedWriterId = this.navParams.get('writerId');\n    let preselectedAllDay = this.navParams.get('allDay');\n\n    console.log(preselectedNo);\n    console.log(preselectedStartDate);\n    console.log(preselectedEndDate);\n    console.log(preselectedCate1);\n    console.log(preselectedCate2);\n    console.log(preselectedTitle);\n    console.log(preselectedContent);\n    console.log(preselectedMemo);\n    console.log(preselectedCompletion);\n    console.log(preselectedWriterId);\n    console.log(preselectedAllDay);\n\n    this.event.calendarNo = preselectedNo;\n    this.event.startTime = preselectedStartDate;\n    this.event.endTime = preselectedEndDate;\n    this.event.title = preselectedTitle;\n    this.event.cate1 = preselectedCate1;\n    this.event.cate2 = preselectedCate2;\n    this.event.content = preselectedContent;\n    this.event.memo = preselectedMemo;\n    this.event.completion = preselectedCompletion;\n    this.event.writerId = preselectedWriterId;\n    this.event.allDay = preselectedAllDay;\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  modify(event){\n     if(event.cate1 == \"\" || event.cate1 == null){\n      let alert = this.alertCtrl.create({\n        title: '카테고리를 선택하세요',\n        buttons : ['확인']\n      });\n      alert.present();\n\n    } else if(event.cate2 == \"\" || event.cate2 == null){\n       let alert = this.alertCtrl.create({\n         title: '세부카테고리를 선택하세요',\n         buttons : ['확인']\n       });\n       alert.present();\n     \n    } else if(event.title == \"\" || event.title == null){\n       let alert = this.alertCtrl.create({\n          title: '일정제목을 입력하세요',\n         buttons : ['확인']\n       });\n        alert.present();\n     \n    } else if(event.content == \"\" || event.content == null){\n       let alert = this.alertCtrl.create({\n         title: '일정내용을 입력하세요',\n         buttons : ['확인']\n        });\n       alert.present();\n      \n    } else if(event.startTime > event.endTime){\n       let alert = this.alertCtrl.create({\n       title: '날짜를 다시 선택해주세요',\n       subTitle: '일정마감날짜가 일정시작날짜 이전입니다.',\n       buttons: ['확인']       \n      });\n      alert.present();\n\n    } else if (isNaN(event.completion)){\n        let alert = this.alertCtrl.create({\n         title: '숫자만 입력하세요',\n          buttons : ['확인']\n        });\n        alert.present();\n\n    }  else {\n      var addr = \"http://localhost:8080/mobile/calendarModify\";\n      let headers = new Headers({\"Content-Type\": \"application/x-www-form-urlencoded\"});\n      let options = new RequestOptions({headers: headers});\n    \n      if(event.memo == undefined){   \n        event.memo = \"\";\n      }\n      let data = 'no='+ event.calendarNo\n                +'&cate1=' + event.cate1\n                +'&cate2=' + event.cate2\n                +'&title=' + event.title\n                +'&content=' + event.content\n                +'&memo=' + event.memo\n                +'&completion=' + event.completion\n                +'&writerId=' + localStorage.getItem(\"userId\")\n                +'&startTime=' + event.startTime \n                +'&endTime=' + event.endTime\n                +'&allDay=' + event.allDay;\n\n      this.http.post(addr, data, options)\n      // .map(res=>res.json())\n      .subscribe((res)=>{\n                  let alert = this.alertCtrl.create({\n                      title: '일정이 수정되었습니다.',\n                      buttons: ['확인']\n                    });\n                  alert.present();\n                  this.viewCtrl.dismiss();\n                }, (err) => {\n                  console.log(err);\n                    let alert = this.alertCtrl.create({\n                      title: '일정이 수정되지 않습니다. 관리자에게 문의하세요',\n                      buttons: ['확인']\n                    });\n                  alert.present();\n                   \n                });\n      \n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar-modify-modal/calendar-modify-modal.ts"],"sourceRoot":""}